<div class="sidebar">
  <% @announcements.each do |a| %>
    <div class="post">
      <div class="title"><%= a.subject %></div>
      <div class="date">Posted on <%= format_time(a.created_at) %></div>
      <div class="content">
        <%= truncate(a.details, length: AnnouncementsHelper::DETAILS_LENGTH) %>
        <% if a.details.mb_chars.length > AnnouncementsHelper::DETAILS_LENGTH %>
          <%= link_to ' Read more', "#", 'data-target' => "#show_modal_#{a.id}", 'data-toggle' => 'modal' %>
        <% end %>    
      </div>
      
        <%= link_to 'Edit', "#", 'data-target' => "#edit_modal_#{a.id}", 'data-toggle' => 'modal', class: "button"%>
        <%= link_to 'Delete', a, method: :delete, data: { confirm: 'Are you sure?' }, class: "button"  %>
      
    </div>
  <% end %>
    <%= link_to 'Submit New', '#', 'data-target' => "#new_modal", 'data-toggle' => 'modal', class: "button" %>
    <%= link_to 'Show All', announcements_path, class: "button"%>
</div>

<!-- Show Modal -->
<%= render 'announcements/show' %>

<!-- Edit Modal -->
<%= render 'announcements/edit' %>

<!-- New Modal -->
<%= render 'announcements/new' %>
